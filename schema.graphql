"""
Autogenerated return type of CreateFriendRequest.
"""
type CreateFriendRequestPayload {
  errors: JSON
}

"""
Autogenerated return type of CreatePost.
"""
type CreatePostPayload {
  errors: JSON
  post: Post
}

type FriendRequest {
  id: ID!
  userProfile: UserProfile!
}

enum FriendRequestActionEnums {
  """
  Friend request is accepted
  """
  accept

  """
  Friend request is declined
  """
  decline
}

"""
Autogenerated return type of HandleFriendRequest.
"""
type HandleFriendRequestPayload {
  errors: JSON
  friendRequestId: ID
}

"""
An ISO 8601-encoded date
"""
scalar ISO8601Date @specifiedBy(url: "https://tools.ietf.org/html/rfc3339")

"""
Represents untyped JSON
"""
scalar JSON

type Mutation {
  createFriendRequest(receiverId: ID!): CreateFriendRequestPayload
  createPost(content: String!, title: String): CreatePostPayload
  handleFriendRequest(friendRequestAction: FriendRequestActionEnums!, friendRequestId: ID!): HandleFriendRequestPayload
  updatePost(content: String!, postId: ID!, title: String): UpdatePostPayload
}

type Post {
  authorProfile: UserProfile!
  authorUsername: String!
  content: String!
  createdAt: String!
  edited: Boolean!
  id: ID!
  title: String
}

type PostPage {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  nodes: [Post!]!
  nodesCount: Int!
  pagesCount: Int!
}

type Query {
  posts(authorId: ID, page: Int = 1, perPage: Int): PostPage!
  receivedFriendRequests: [FriendRequest!]!
  sentFriendRequests: [FriendRequest!]!
  suggestedFriends: [User!]!

  """
  Returns a list of users
  """
  users(searchQuery: String): [User!]!
}

"""
Autogenerated return type of UpdatePost.
"""
type UpdatePostPayload {
  errors: JSON
  post: Post
}

type User {
  id: ID!
  profile: UserProfile!
  username: String!
}

type UserProfile {
  avatar: String
  bio: String
  dateOfBirth: ISO8601Date
  displayName: String!
  gender: String
  id: ID!
}
